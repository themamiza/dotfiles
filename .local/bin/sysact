#!/bin/sh

case "$WM" in
	"dwm")
		case "$(printf "ğŸ”’ lockdown\nğŸšª leave dwm\nğŸªŸ restart dwm\nğŸ’¤ suspend\nğŸ» hibernate\nğŸ”ƒ reboot\nğŸ’» shutdown\nğŸ“º display off\nâ° uptime" | dmenu -i -p "action: ")" in
			"ğŸ”’ lockdown") notify-send "locking down" && sleep 2 && slock;;
			"ğŸšª leave ") kill -term "$(pidof dwm)";;
			"ğŸªŸ restart ") kill -hup "$(pidof dwm)";;
			"ğŸ’¤ suspend") slock systemctl suspend -i;;
			"ğŸ» hibernate") slock systemctl hibernate -i;;
			"ğŸ”ƒ reboot") notify-send "rebooting the system" && sleep 2 && reboot;;
			"ğŸ’» shutdown") notify-send "going down" && sleep 2 && shutdown -h now;;
			"ğŸ“º display off") xset dpms force off;;
			"â° uptime") notify-send "$(uptime -p)" ;;
			*) exit 1;;
		esac
		;;
	"hyprland")
		case "$(printf "ğŸ”’ lockdown\nğŸšª leave hyprland\nğŸªŸ restart hyprland\nğŸ’¤ suspend\nğŸ» hibernate\nğŸ”ƒ reboot\nğŸ’» shutdown\nğŸ“º display off\nâ° uptime" | dmenu -i -p "action: ")" in
			"ğŸ”’ lockdown") notify-send "locking down" && sleep 2 && slock;;
			"ğŸšª leave hyprland") hyprctl dispatch exit;;
			"ğŸªŸ restart hyprland") hyprctl reload;;
			"ğŸ’¤ suspend") waylock -fork-on-lock; systemctl suspend -i;;
			"ğŸ» hibernate") waylock -fork-on-lock; systemctl hibernate -i;;
			"ğŸ”ƒ reboot") notify-send "rebooting the system" && sleep 2 && reboot;;
			"ğŸ’» shutdown") notify-send "going down" && sleep 2 && shutdown -h now;;
			"ğŸ“º display off") hyprctl dispatch dpms off;;
			"â° uptime") notify-send "$(uptime -p)" ;;
			*) exit 1;;
		esac
		;;
esac
