#!/bin/sh

case "$WM" in
	"dwm")
		case "$(printf "🔒 lockdown\n🚪 leave dwm\n🪟 restart dwm\n💤 suspend\n🐻 hibernate\n🔃 reboot\n💻 shutdown\n📺 display off\n⏰ uptime" | dmenu -i -p "action: ")" in
			"🔒 lockdown") notify-send "locking down" && sleep 2 && slock;;
			"🚪 leave ") kill -term "$(pidof dwm)";;
			"🪟 restart ") kill -hup "$(pidof dwm)";;
			"💤 suspend") slock systemctl suspend -i;;
			"🐻 hibernate") slock systemctl hibernate -i;;
			"🔃 reboot") notify-send "rebooting the system" && sleep 2 && reboot;;
			"💻 shutdown") notify-send "going down" && sleep 2 && shutdown -h now;;
			"📺 display off") xset dpms force off;;
			"⏰ uptime") notify-send "$(uptime -p)" ;;
			*) exit 1;;
		esac
		;;
	"hyprland")
		case "$(printf "🔒 lockdown\n🚪 leave hyprland\n🪟 restart hyprland\n💤 suspend\n🐻 hibernate\n🔃 reboot\n💻 shutdown\n📺 display off\n⏰ uptime" | dmenu -i -p "action: ")" in
			"🔒 lockdown") notify-send "locking down" && sleep 2 && slock;;
			"🚪 leave hyprland") hyprctl dispatch exit;;
			"🪟 restart hyprland") hyprctl reload;;
			"💤 suspend") waylock -fork-on-lock; systemctl suspend -i;;
			"🐻 hibernate") waylock -fork-on-lock; systemctl hibernate -i;;
			"🔃 reboot") notify-send "rebooting the system" && sleep 2 && reboot;;
			"💻 shutdown") notify-send "going down" && sleep 2 && shutdown -h now;;
			"📺 display off") hyprctl dispatch dpms off;;
			"⏰ uptime") notify-send "$(uptime -p)" ;;
			*) exit 1;;
		esac
		;;
esac
